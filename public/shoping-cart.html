<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Shopping Cart</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="images/icons/favicon.png" />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/bootstrap/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="fonts/font-awesome-4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="fonts/iconic/css/material-design-iconic-font.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="fonts/linearicons-v1.0.0/icon-font.min.css"
    />
    <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/css-hamburgers/hamburgers.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/animsition/css/animsition.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/select2/select2.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/perfect-scrollbar/perfect-scrollbar.css"
    />
    <link rel="stylesheet" type="text/css" href="css/util.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />

    <style>
      /* WhatsApp Floating Button Styles */
      .whatsapp-float {
        position: fixed;
        width: 60px;
        height: 60px;
        bottom: 40px;
        right: 40px;
        background-color: #25d366;
        color: #fff;
        border-radius: 50px;
        text-align: center;
        font-size: 30px;
        box-shadow: 2px 2px 3px #999;
        z-index: 100;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .whatsapp-float:hover {
        background-color: #128c7e;
        transform: scale(1.1);
        color: #fff;
      }

      .whatsapp-my-float {
        margin-top: 0;
      }

      /* WhatsApp Chat Widget */
      .whatsapp-widget {
        position: fixed;
        width: 300px;
        height: 400px;
        bottom: 110px;
        right: 40px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        z-index: 99;
        display: none;
        flex-direction: column;
        overflow: hidden;
        border: 1px solid #e0e0e0;
      }

      .whatsapp-widget-header {
        background: #25d366;
        color: white;
        padding: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .whatsapp-widget-header i {
        font-size: 20px;
      }

      .whatsapp-widget-body {
        flex: 1;
        padding: 15px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        overflow-y: auto;
      }

      .whatsapp-widget-message {
        background: #f0f0f0;
        padding: 10px;
        border-radius: 10px;
        font-size: 14px;
        line-height: 1.4;
      }

      .whatsapp-widget-footer {
        padding: 15px;
        border-top: 1px solid #e0e0e0;
      }

      .whatsapp-input-container {
        position: relative;
        display: flex;
        align-items: center;
      }

      .whatsapp-widget-input {
        width: 100%;
        padding: 10px 45px 10px 15px;
        border: 1px solid #ddd;
        border-radius: 25px;
        font-size: 14px;
        outline: none;
      }

      .whatsapp-send-btn {
        position: absolute;
        right: 5px;
        background: #25d366;
        border: none;
        border-radius: 50%;
        color: white;
        width: 32px;
        height: 32px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s ease;
      }

      .whatsapp-send-btn:hover {
        background: #128c7e;
      }

      .whatsapp-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.2);
        border: none;
        color: white;
        border-radius: 50%;
        width: 25px;
        height: 25px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      @media (max-width: 768px) {
        .whatsapp-float {
          width: 50px;
          height: 50px;
          bottom: 20px;
          right: 20px;
          font-size: 24px;
        }

        .whatsapp-widget {
          width: calc(100% - 40px);
          right: 20px;
          bottom: 90px;
        }
      }

      /* Responsive table styles */
      .table-shopping-cart {
        width: 100%;
      }

      .table-shopping-cart th,
      .table-shopping-cart td {
        padding: 15px 10px;
        text-align: left;
      }

      .table-shopping-cart .column-1 {
        width: 15%;
      }
      .table-shopping-cart .column-2 {
        width: 25%;
      }
      .table-shopping-cart .column-3 {
        width: 15%;
      }
      .table-shopping-cart .column-4 {
        width: 25%;
      }
      .table-shopping-cart .column-5 {
        width: 15%;
      }
      .table-shopping-cart .column-6 {
        width: 5%;
      }

      @media (max-width: 991px) {
        .table-shopping-cart .column-1 {
          width: 20%;
        }
        .table-shopping-cart .column-2 {
          width: 30%;
        }
        .table-shopping-cart .column-3 {
          width: 15%;
        }
        .table-shopping-cart .column-4 {
          width: 20%;
        }
        .table-shopping-cart .column-5 {
          width: 10%;
        }
        .table-shopping-cart .column-6 {
          width: 5%;
        }
      }

      @media (max-width: 767px) {
        .wrap-table-shopping-cart {
          overflow-x: auto;
        }

        .table-shopping-cart {
          min-width: 600px;
        }

        .table-shopping-cart th,
        .table-shopping-cart td {
          padding: 10px 5px;
          font-size: 14px;
        }

        .how-itemcart1 img {
          max-width: 60px;
        }

        .wrap-num-product {
          flex-wrap: wrap;
          justify-content: center;
        }

        .wrap-num-product .btn-num-product-down,
        .wrap-num-product .btn-num-product-up {
          margin: 0 5px;
        }

        .num-product {
          width: 50px;
          text-align: center;
        }
      }

      @media (max-width: 575px) {
        .table-shopping-cart {
          min-width: 500px;
        }

        .table-shopping-cart th,
        .table-shopping-cart td {
          padding: 8px 3px;
          font-size: 12px;
        }

        .how-itemcart1 img {
          max-width: 50px;
        }
      }

      /* Empty cart message */
      .empty-cart-message {
        text-align: center;
        padding: 40px 20px;
      }

      .empty-cart-message i {
        font-size: 64px;
        color: #ccc;
        margin-bottom: 20px;
      }

      .empty-cart-message h4 {
        color: #666;
        margin-bottom: 15px;
      }

      .empty-cart-message p {
        color: #999;
        margin-bottom: 20px;
      }
    </style>
  </head>
  <body class="animsition">
    <!-- Header -->
    <header class="header-v4">
      <!-- Header desktop -->
      <div class="container-menu-desktop">
        <div class="wrap-menu-desktop">
          <nav class="limiter-menu-desktop container">
            <!-- Logo desktop -->
            <a href="/" class="logo">
              <img
                src="images/Linaben/logo/Lina Ben Logo (secondary).png"
                alt="IMG-LOGO"
              />
            </a>

            <!-- Menu desktop -->
            <div class="menu-desktop">
              <ul class="main-menu">
                <li>
                  <a href="/">Home</a>
                </li>

                <li>
                  <a href="product.html">Shop</a>
                </li>

                <li>
                  <a href="about.html">About</a>
                </li>

                <li>
                  <a href="contact.html">Contact Us</a>
                </li>
              </ul>
            </div>

            <!-- Icon header -->
            <div class="wrap-icon-header flex-w flex-r-m">
              <div
                class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti js-show-cart"
                data-notify="8"
              >
                <i class="zmdi zmdi-shopping-cart"></i>
              </div>

              <!-- <a
				  href="#"
				  class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti"
				  data-notify="0"
				>
				  <i class="zmdi zmdi-favorite-outline"></i>
				</a> -->
            </div>
          </nav>
        </div>
      </div>

      <!-- Header Mobile -->
      <div class="wrap-header-mobile">
        <!-- Logo moblie -->
        <div class="logo-mobile">
          <a href="/"
            ><img
              src="images/Linaben/logo/Lina Ben Logo (secondary).png"
              alt="LinaBen-LOGO"
          /></a>
        </div>

        <!-- Icon header -->
        <div class="wrap-icon-header flex-w flex-r-m m-r-15">
          <div
            class="icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti js-show-cart"
            data-notify="2"
          >
            <i class="zmdi zmdi-shopping-cart"></i>
          </div>

          <!-- <a
			  href="#"
			  class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti"
			  data-notify="0"
			>
			  <i class="zmdi zmdi-favorite-outline"></i>
			</a> -->
        </div>

        <!-- Button show menu -->
        <div class="btn-show-menu-mobile hamburger hamburger--squeeze">
          <span class="hamburger-box">
            <span class="hamburger-inner"></span>
          </span>
        </div>
      </div>

      <!-- Menu Mobile -->
      <div class="menu-mobile">
        <ul class="main-menu-m">
          <li>
            <a href="/">Home</a>
          </li>

          <li>
            <a href="product.html">Shop</a>
          </li>

          <li>
            <a href="about.html">About</a>
          </li>

          <li>
            <a href="contact.html">Contact Us</a>
          </li>
        </ul>
      </div>

      <!-- Modal Search -->
      <div
        class="modal-search-header flex-c-m trans-04 js-hide-modal-search"
      ></div>
    </header>

    <!-- Cart -->
    <div class="wrap-header-cart js-panel-cart">
      <div class="s-full js-hide-cart"></div>

      <div class="header-cart flex-col-l p-l-65 p-r-25">
        <div class="header-cart-title flex-w flex-sb-m p-b-8">
          <span class="mtext-103 cl2"> Your Cart </span>

          <div
            class="fs-35 lh-10 cl2 p-lr-5 pointer hov-cl1 trans-04 js-hide-cart"
          >
            <i class="zmdi zmdi-close"></i>
          </div>
        </div>

        <div class="header-cart-content flex-w js-pscroll">
          <ul class="header-cart-wrapitem w-full">
            <li class="header-cart-item flex-w flex-t m-b-12">
              <div class="header-cart-item-img">
                <img src="images/item-cart-01.jpg" alt="IMG" />
              </div>

              <div class="header-cart-item-txt p-t-8">
                <a
                  href="#"
                  class="header-cart-item-name m-b-18 hov-cl1 trans-04"
                >
                  White Shirt Pleat
                </a>

                <span class="header-cart-item-info"> 1 x $19.00 </span>
              </div>
            </li>

            <li class="header-cart-item flex-w flex-t m-b-12">
              <div class="header-cart-item-img">
                <img src="images/item-cart-02.jpg" alt="IMG" />
              </div>

              <div class="header-cart-item-txt p-t-8">
                <a
                  href="#"
                  class="header-cart-item-name m-b-18 hov-cl1 trans-04"
                >
                  Converse All Star
                </a>

                <span class="header-cart-item-info"> 1 x $39.00 </span>
              </div>
            </li>

            <li class="header-cart-item flex-w flex-t m-b-12">
              <div class="header-cart-item-img">
                <img src="images/item-cart-03.jpg" alt="IMG" />
              </div>

              <div class="header-cart-item-txt p-t-8">
                <a
                  href="#"
                  class="header-cart-item-name m-b-18 hov-cl1 trans-04"
                >
                  Nixon Porter Leather
                </a>

                <span class="header-cart-item-info"> 1 x $17.00 </span>
              </div>
            </li>
          </ul>

          <div class="w-full">
            <div class="header-cart-total w-full p-tb-40">Total: $75.00</div>

            <div class="header-cart-buttons flex-w w-full">
              <a
                href="#"
                class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-r-8 m-b-10"
              >
                View Cart
              </a>

              <a
                href="./shoping-cart.html"
                class="flex-c-m stext-101 cl0 size-107 bg3 bor2 hov-btn3 p-lr-15 trans-04 m-b-10"
              >
                Check Out
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Shoping Cart -->
    <section class="bg0 p-t-75 p-b-85">
      <div class="container">
        <div class="row">
          <div class="col-lg-10 col-xl-7 m-lr-auto m-b-50">
            <div class="m-l-25 m-r--38 m-lr-0-xl">
              <div class="wrap-table-shopping-cart">
                <table class="table-shopping-cart" id="cartTable">
                  <tr class="table_head">
                    <th class="column-1">Product</th>
                    <th class="column-2">Name</th>
                    <th class="column-3">Price</th>
                    <th class="column-4">Quantity</th>
                    <th class="column-5">Total</th>
                    <th class="column-6">Action</th>
                  </tr>
                  <tbody id="cartItems">
                    <!-- Cart items will be populated here -->
                  </tbody>
                </table>
              </div>

              <div
                class="flex-w flex-sb-m bor15 p-t-18 p-b-15 p-lr-40 p-lr-15-sm"
              >
                <div class="flex-w flex-m m-r-20 m-tb-5">
                  <input
                    class="stext-104 cl2 plh4 size-117 bor13 p-lr-20 m-r-10 m-tb-5"
                    type="text"
                    name="coupon"
                    placeholder="Coupon Code"
                  />

                  <div
                    class="flex-c-m stext-101 cl2 size-118 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-5"
                    id="applyCoupon"
                  >
                    Apply coupon
                  </div>
                </div>

                <!-- <div
                  class="flex-c-m stext-101 cl2 size-119 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer m-tb-10"
                  id="updateCart"
                >
                  Update Cart
                </div> -->
              </div>
            </div>
          </div>

          <div class="col-sm-10 col-lg-7 col-xl-5 m-lr-auto m-b-50">
            <div
              class="bor10 p-lr-40 p-t-30 p-b-40 m-l-63 m-r-40 m-lr-0-xl p-lr-15-sm"
            >
              <h4 class="mtext-109 cl2 p-b-30">Cart Totals</h4>

              <div class="flex-w flex-t bor12 p-b-13">
                <div class="size-208">
                  <span class="stext-110 cl2"> Subtotal: </span>
                </div>

                <div class="size-209">
                  <span class="mtext-110 cl2" id="subtotal"> â‚¦0 </span>
                </div>
              </div>

              <div class="flex-w flex-t bor12 p-t-15 p-b-30">
                <div class="size-208 w-full-ssm">
                  <span class="stext-110 cl2"> Shipping: </span>
                </div>

                <div class="size-209 p-r-18 p-r-0-sm w-full-ssm">
                  <p class="stext-111 cl6 p-t-2">
                    Free shipping for orders over â‚¦10,000. Otherwise, shipping
                    is â‚¦1,500.
                  </p>

                  <div class="p-t-15">
                    <span class="stext-112 cl8"> Calculate Shipping </span>

                    <div class="rs1-select2 rs2-select2 bor8 bg0 m-b-12 m-t-9">
                      <select
                        class="js-select2"
                        name="country"
                        id="shippingCountry"
                      >
                        <option value="NG">Nigeria</option>
                        <option value="UK">United Kingdom</option>
                        <option value="USA">United States of America</option>
                      </select>
                      <div class="dropDownSelect2"></div>
                    </div>

                    <div class="bor8 bg0 m-b-12">
                      <input
                        class="stext-111 cl8 plh3 size-111 p-lr-15"
                        type="text"
                        name="state"
                        placeholder="State"
                        id="shippingState"
                      />
                    </div>

                    <div class="bor8 bg0 m-b-22">
                      <input
                        class="stext-111 cl8 plh3 size-111 p-lr-15"
                        type="text"
                        name="postcode"
                        placeholder="Postcode"
                        id="shippingPostcode"
                      />
                    </div>

                    <!-- <div class="flex-w">
                      <div
                        class="flex-c-m stext-101 cl2 size-115 bg8 bor13 hov-btn3 p-lr-15 trans-04 pointer"
                        id="updateShipping"
                      >
                        Update Totals
                      </div>
                    </div> -->
                  </div>
                </div>
              </div>

              <div class="flex-w flex-t p-t-27 p-b-33">
                <div class="size-208">
                  <span class="mtext-101 cl2"> Total: </span>
                </div>

                <div class="size-209 p-t-1">
                  <span class="mtext-110 cl2" id="total"> â‚¦0 </span>
                </div>
              </div>

              <button
                class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer"
                id="checkoutBtn"
              >
                Proceed to Checkout
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg3 p-t-75 p-b-32">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 col-lg-3 p-b-50">
            <h4 class="stext-301 cl0 p-b-30">Categories</h4>
            <ul>
              <li class="p-b-10">
                <a href="product.html" class="stext-107 cl7 hov-cl1 trans-04">
                  Men
                </a>
              </li>
              <li class="p-b-10">
                <a href="product.html" class="stext-107 cl7 hov-cl1 trans-04">
                  Women
                </a>
              </li>
              <li class="p-b-10">
                <a href="product.html" class="stext-107 cl7 hov-cl1 trans-04">
                  Adire Infusion
                </a>
              </li>
              <li class="p-b-10">
                <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
                  Custom Order
                </a>
              </li>
            </ul>
          </div>

          <div class="col-sm-6 col-lg-3 p-b-50">
            <h4 class="stext-301 cl0 p-b-30">Help</h4>
            <ul>
              <li class="p-b-10">
                <a href="#" class="stext-107 cl7 hov-cl1 trans-04">
                  Track Order
                </a>
              </li>
              <li class="p-b-10">
                <a
                  href="store-policy.html"
                  class="stext-107 cl7 hov-cl1 trans-04"
                >
                  Store Policy
                </a>
              </li>
            </ul>
          </div>

          <div class="col-sm-6 col-lg-3 p-b-50">
            <h4 class="stext-301 cl0 p-b-30">GET IN TOUCH</h4>
            <p class="stext-107 cl7 size-201">
              Any questions? Let us know in store at 10 Balogun Street, Ajao
              Estate, Anthony, Lagos. Or call us on (+234)706-0558-584
            </p>
            <div class="p-t-27">
              <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
                <i class="fa-brands fa-facebook-f"></i>
              </a>
              <a
                href="https://www.instagram.com/linabenstores/"
                class="fs-18 cl7 hov-cl1 trans-04 m-r-16"
              >
                <i class="fa-brands fa-instagram"></i>
              </a>
              <a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
                <i class="fab fa-tiktok"></i>
              </a>
            </div>
          </div>
        </div>

        <div class="p-t-40">
          <p class="stext-107 cl6 txt-center">
            Copyright &copy;
            <script>
              document.write(new Date().getFullYear());
            </script>
            , LinaBen All rights reserved
          </p>
        </div>
      </div>
    </footer>

    <!-- WhatsApp Widget -->
    <a
      href="https://wa.me/2347060558584?text=Hi%2C%20I%20would%20like%20to%20make%20an%20inquiry"
      class="whatsapp-float"
      target="_blank"
      onclick="if(window.innerWidth > 768) { event.preventDefault(); toggleWhatsAppWidget(); }"
    >
      <i class="fa-brands fa-whatsapp whatsapp-my-float"></i>
    </a>

    <div class="whatsapp-widget" id="whatsappWidget">
      <div class="whatsapp-widget-header">
        <i class="fa-brands fa-whatsapp"></i>
        <span>LinaBen Stores</span>
        <button class="whatsapp-close" onclick="closeWhatsAppWidget()">
          <i class="fa fa-times"></i>
        </button>
      </div>
      <div class="whatsapp-widget-body">
        <div class="whatsapp-widget-message">
          Hi! ðŸ‘‹ Welcome to LinaBen Stores. We're here to help you with any
          questions about our products, custom orders, or general inquiries.
          What can we assist you with today?
        </div>
      </div>
      <div class="whatsapp-widget-footer">
        <div class="whatsapp-input-container">
          <input
            type="text"
            class="whatsapp-widget-input"
            placeholder="Type your message..."
            onkeypress="if(event.key === 'Enter') sendWhatsAppMessage(this.value)"
            id="whatsappInput"
          />
          <button
            class="whatsapp-send-btn"
            onclick="sendWhatsAppMessage(document.getElementById('whatsappInput').value)"
          >
            <i class="fa fa-paper-plane"></i>
          </button>
        </div>
        <small
          style="
            display: block;
            margin-top: 5px;
            color: #666;
            text-align: center;
          "
        >
          Press Enter to send or
          <a
            href="https://wa.me/2347060558584?text=Hi%2C%20I%20would%20like%20to%20make%20an%20inquiry"
            target="_blank"
            >click here to open WhatsApp</a
          >
        </small>
      </div>
    </div>

    <!-- Scripts -->
    <script src="vendor/jquery/jquery-3.2.1.min.js"></script>
    <script src="vendor/animsition/js/animsition.min.js"></script>
    <script src="vendor/bootstrap/js/popper.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="vendor/select2/select2.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/product-system.js"></script>
    <!-- Shopping Cart Script -->
    <script>
      // WhatsApp Widget Functions
      function toggleWhatsAppWidget() {
        const widget = document.getElementById("whatsappWidget");
        if (widget.style.display === "flex") {
          closeWhatsAppWidget();
        } else {
          openWhatsAppWidget();
        }
      }

      function openWhatsAppWidget() {
        const widget = document.getElementById("whatsappWidget");
        widget.style.display = "flex";
        setTimeout(() => {
          const input = document.getElementById("whatsappInput");
          if (input) input.focus();
        }, 300);
      }

      function closeWhatsAppWidget() {
        const widget = document.getElementById("whatsappWidget");
        widget.style.display = "none";
      }

      function sendWhatsAppMessage(message) {
        if (message.trim() === "") return;

        const encodedMessage = encodeURIComponent(message);
        const whatsappUrl = `https://wa.me/2347060558584?text=${encodedMessage}`;

        window.open(whatsappUrl, "_blank");
        closeWhatsAppWidget();

        const input = document.getElementById("whatsappInput");
        if (input) input.value = "";
      }

      // Close widget when clicking outside
      document.addEventListener("click", function (event) {
        const widget = document.getElementById("whatsappWidget");
        const floatButton = document.querySelector(".whatsapp-float");

        if (
          widget.style.display === "flex" &&
          !widget.contains(event.target) &&
          !floatButton.contains(event.target)
        ) {
          closeWhatsAppWidget();
        }
      });

      // Handle Escape key to close widget
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape") {
          closeWhatsAppWidget();
        }
      });

      // Auto-close widget on mobile when orientation changes
      window.addEventListener("orientationchange", function () {
        if (window.innerWidth <= 768) {
          closeWhatsAppWidget();
        }
      });

      // Shopping Cart Functions
      function getCart() {
        const cart = localStorage.getItem("shoppingCart");
        return cart ? JSON.parse(cart) : [];
      }

      function saveCart(cart) {
        localStorage.setItem("shoppingCart", JSON.stringify(cart));
        updateCartIcon();
      }

      function updateCartIcon() {
        const cart = getCart();
        const totalItems = cart.reduce(
          (sum, item) => sum + (item.quantity || 1),
          0
        );
        document
          .querySelector(".js-show-cart")
          .setAttribute("data-notify", totalItems);
      }

      function renderCartItems() {
        const cart = getCart();
        const cartItemsContainer = document.getElementById("cartItems");

        if (cart.length === 0) {
          cartItemsContainer.innerHTML = `
                    <tr>
                        <td colspan="6" class="empty-cart-message">
                            <i class="zmdi zmdi-shopping-cart"></i>
                            <h4>Your cart is empty</h4>
                            <p>Add some products to your cart to see them here.</p>
                            <a href="product.html" class="flex-c-m stext-101 cl0 size-116 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer">
                                Continue Shopping
                            </a>
                        </td>
                    </tr>
                `;
          updateTotals();
          return;
        }

        cartItemsContainer.innerHTML = "";

        cart.forEach((item, index) => {
          const quantity = item.quantity || 1;
          const itemTotal = item.price * quantity;

          const row = document.createElement("tr");
          row.className = "table_row";
          row.innerHTML = `
                    <td class="column-1">
                        <div class="how-itemcart1">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                    </td>
                    <td class="column-2">${item.name}</td>
                    <td class="column-3">â‚¦${item.price}</td>
                    <td class="column-4">
                        <div class="wrap-num-product flex-w m-l-auto m-r-0">
                            <div class="btn-num-product-down cl8 hov-btn3 trans-04 flex-c-m" data-index="${index}">
                                <i class="fs-16 zmdi zmdi-minus"></i>
                            </div>
                            <input class="mtext-104 cl3 txt-center num-product" type="number" name="num-product${index}" value="${quantity}" min="1" data-index="${index}">
                            <div class="btn-num-product-up cl8 hov-btn3 trans-04 flex-c-m" data-index="${index}">
                                <i class="fs-16 zmdi zmdi-plus"></i>
                            </div>
                        </div>
                    </td>
                    <td class="column-5">â‚¦${itemTotal}</td>
                    <td class="column-6">
                        <button class="remove-item cl2 hov-cl1 trans-04" data-index="${index}" title="Remove item">
                            <i class="zmdi zmdi-close"></i>
                        </button>
                    </td>
                `;

          cartItemsContainer.appendChild(row);
        });

        // Add event listeners for quantity controls
        document.querySelectorAll(".btn-num-product-down").forEach((button) => {
          button.addEventListener("click", function () {
            const index = parseInt(this.getAttribute("data-index"));
            updateQuantity(index, -1);
          });
        });

        document.querySelectorAll(".btn-num-product-up").forEach((button) => {
          button.addEventListener("click", function () {
            const index = parseInt(this.getAttribute("data-index"));
            updateQuantity(index, 1);
          });
        });

        document.querySelectorAll(".num-product").forEach((input) => {
          input.addEventListener("change", function () {
            const index = parseInt(this.getAttribute("data-index"));
            const newQuantity = parseInt(this.value) || 1;
            setQuantity(index, newQuantity);
          });
        });

        document.querySelectorAll(".remove-item").forEach((button) => {
          button.addEventListener("click", function () {
            const index = parseInt(this.getAttribute("data-index"));
            removeFromCart(index);
          });
        });

        updateTotals();
      }

      function updateQuantity(index, change) {
        const cart = getCart();
        if (cart[index]) {
          cart[index].quantity = (cart[index].quantity || 1) + change;
          if (cart[index].quantity < 1) cart[index].quantity = 1;
          saveCart(cart);
          renderCartItems();
        }
      }

      function setQuantity(index, quantity) {
        const cart = getCart();
        if (cart[index]) {
          cart[index].quantity = quantity < 1 ? 1 : quantity;
          saveCart(cart);
          renderCartItems();
        }
      }

      function removeFromCart(index) {
        const cart = getCart();
        cart.splice(index, 1);
        saveCart(cart);
        renderCartItems();
      }

      function updateTotals() {
        const cart = getCart();
        let subtotal = 0;

        cart.forEach((item) => {
          const quantity = item.quantity || 1;
          subtotal += item.price * quantity;
        });

        // Calculate shipping (free over â‚¦10,000, otherwise â‚¦1,500)
        const shipping = subtotal >= 10000 ? 0 : 1500;
        const total = subtotal + shipping;

        document.getElementById("subtotal").textContent = `â‚¦${subtotal}`;
        document.getElementById("total").textContent = `â‚¦${total}`;
      }

      function clearCart() {
        localStorage.removeItem("shoppingCart");
        renderCartItems();
        updateCartIcon();
      }

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize select2
        $(".js-select2").each(function () {
          $(this).select2({
            minimumResultsForSearch: 20,
            dropdownParent: $(this).next(".dropDownSelect2"),
          });
        });

        // Render cart items
        renderCartItems();
        updateCartIcon();

        // Update cart button
        document
          .getElementById("updateCart")
          .addEventListener("click", function () {
            renderCartItems();
          });

        // Update shipping button
        document
          .getElementById("updateShipping")
          .addEventListener("click", function () {
            updateTotals();
          });

        // Checkout button
        document
          .getElementById("checkoutBtn")
          .addEventListener("click", function () {
            if (getCart().length === 0) {
              alert(
                "Your cart is empty. Please add products before checking out."
              );
              return;
            }

            // In a real application, this would redirect to a checkout page
            alert(
              "Proceeding to checkout. This would normally redirect to a payment page."
            );
          });

        // Apply coupon button
        document
          .getElementById("applyCoupon")
          .addEventListener("click", function () {
            alert("Coupon functionality would be implemented here.");
          });
      });
    </script>
  </body>
</html>
